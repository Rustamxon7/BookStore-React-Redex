(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{31:function(t,e,n){},32:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),r=n(13),a=n.n(r),i=n(10),s=(n(31),n(32),n(6)),u=n(16),j=n(23),l=n.n(j),b=n(24),d=n(26),O=n(7),p=n.n(O),h=n(15),x="bookStore/books/ADD-BOOK",f="bookStore/books/REMOVE-BOOK",v="bookStore/books/GET-BOOK",y=[],k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0,n=e.id,c=e.type,o=e.payload;switch(c){case x:return[].concat(Object(d.a)(t),[o]);case f:return t.filter((function(t){return t.id!==n}));case v:return e.payload;default:return t}},m=Object(u.b)({books:k}),g=Object(u.c)(m,Object(u.a)(l.a,b.a)),B=n(2),S=n(1),w=function(){return Object(S.jsx)("div",{children:"Under construction"})},R=n(9),E=n(45);var C=function(){var t=Object(s.b)(),e=Object(c.useState)(""),n=Object(R.a)(e,2),o=n[0],r=n[1],a=Object(c.useState)(""),i=Object(R.a)(a,2),u=i[0],j=i[1],l=Object(c.useState)(""),b=Object(R.a)(l,2),d=b[0],O=b[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"ADD NEW BOOK"}),Object(S.jsxs)("form",{children:[Object(S.jsx)("input",{name:"title",value:o,type:"text",placeholder:"Book title",onChange:function(t){r(t.target.value)}}),Object(S.jsx)("input",{name:"title",value:u,type:"text",placeholder:"Author",onChange:function(t){j(t.target.value)}}),Object(S.jsxs)("select",{name:"category",value:d,id:"categories",onChange:function(t){O(t.target.value)},children:[Object(S.jsx)("option",{value:"Romance",children:"Romance"}),Object(S.jsx)("option",{value:"Mystery",children:"Mystery"}),Object(S.jsx)("option",{value:"Fantasy and science fiction",children:"Fantasy and science fiction"}),Object(S.jsx)("option",{value:"Thrillers and horror",children:"Thrillers and horror"})]}),Object(S.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var n,c={id:Object(E.a)(),title:"".concat(o," - ").concat(u),category:d};t((n=c,function(){var t=Object(h.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/cJlBscH8aPE5lvm6WwKw/books",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n.id,title:n.title,category:n.category})});case 2:t.sent&&e({type:x,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),r(""),j(""),O("")},children:"ADD BOOK"})]})]})},D=function(t){var e=t.book,n=e.title,c=e.category,o=e.id,r=n.split("-"),a=Object(R.a)(r,2),i=a[0],u=a[1],j=Object(s.b)();return Object(S.jsx)("div",{children:Object(S.jsxs)("li",{children:[i,Object(S.jsx)("br",{}),Object(S.jsx)("p",{style:{color:"blue"},children:u}),Object(S.jsx)("br",{}),c,Object(S.jsx)("button",{type:"button",onClick:function(){return j(function(t){return function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/cJlBscH8aPE5lvm6WwKw/books/".concat(t),{method:"Delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:t})});case 2:e.sent&&n({type:f,id:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(o))},children:"Delete"})]})})};var K=function(){var t=Object(s.b)();Object(c.useEffect)((function(){t(function(){var t=Object(h.a)(p.a.mark((function t(e){var n,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/cJlBscH8aPE5lvm6WwKw/books").then((function(t){return t.json()}));case 2:n=t.sent,c=Object.keys(n),o=[],c.map((function(t){return o.push({id:t,title:n[t][0].title,category:n[t][0].category})})),e({type:v,payload:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);var e=Object(s.c)((function(t){return t.books}));return Object(S.jsx)("ul",{children:e.map((function(t){return Object(S.jsx)(D,{book:t},t.id)}))})},A=function(){return Object(S.jsx)("div",{children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("h1",{children:"BookStore CMD"}),[{id:1,path:"/BookStore-React-Redex/",text:"BOOKS"},{id:2,path:"/BookStore-React-Redex/categories",text:"CATEGORIES"}].map((function(t){return Object(S.jsx)("li",{children:Object(S.jsx)(i.b,{to:t.path,activeClassName:"active-link",exact:!0,children:t.text})},t.id)}))]})})},J=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(A,{}),Object(S.jsxs)(B.c,{children:[Object(S.jsx)(B.a,{exact:!0,path:"/BookStore-React-Redex/",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)(K,{}),Object(S.jsx)(C,{})]})}),Object(S.jsx)(B.a,{path:"/BookStore-React-Redex/categories",children:Object(S.jsx)(w,{})})]})]})},T=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(s.a,{store:g,children:Object(S.jsx)(J,{})})})};a.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(T,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.3ce6efff.chunk.js.map